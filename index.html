<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2D Geometry Web App | Educational Tool | Bocaletto Luca</title>
<meta name="description" content="2D Geometry Web App is an interactive educational tool designed for calculating properties, studying formulas, and visualizing geometric shapes. The app covers a wide range of 2D figures, allowing users to compute area, perimeter, and other attributes dynamically while learning their mathematical rules. Developed by Bocaletto Luca.">
<meta name="keywords" content="geometry, web app, 2D shapes, math, formulas, area, perimeter, calculation, educational tool, visualization, learning, Bocaletto Luca">
<meta name="author" content="Bocaletto Luca">
  <style>
    /* RESET & BASE STYLES */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    header, footer {
      text-align: center;
      background: #fff;
      padding: 15px;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      background: #fff;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    /* TABS NAVIGATION */
    .tabs {
      display: flex;
      border-bottom: 2px solid #007BFF;
      margin-bottom: 20px;
    }
    .tabs button {
      flex: 1;
      padding: 10px;
      background: none;
      border: none;
      border-bottom: 4px solid transparent;
      cursor: pointer;
      font-size: 1rem;
      color: #007BFF;
      transition: all 0.3s;
    }
    .tabs button.active {
      border-bottom-color: #007BFF;
      font-weight: bold;
    }
    /* TAB CONTENT */
    .tabcontent {
      display: none;
    }
    .tabcontent.active {
      display: block;
    }
    /* CALCULATOR & INFO */
    .calc {
      margin: 15px 0;
    }
    .calc label {
      display: inline-block;
      width: 150px;
      font-weight: bold;
    }
    .calc input {
      padding: 5px;
      width: 100px;
      margin-right: 10px;
    }
    .btn {
      padding: 7px 15px;
      background: #007BFF;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
    .btn:hover {
      background: #0056b3;
    }
    .result {
      margin-top: 10px;
      padding: 10px;
      background: #e9f2f9;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    /* CANVAS STYLES */
    canvas {
      display: block;
      margin: 20px auto;
      background: #fff;
      border: 1px solid #ddd;
    }
    /* SECTION */
    section {
      margin-bottom: 20px;
    }
    section p, section ul {
      margin-bottom: 10px;
    }
    section ul li {
      margin-left: 20px;
      list-style: disc;
    }
  </style>
</head>
<body>
  <header>
    <h1>Geometric Figures Explorer</h1>
  </header>
  <div class="container">
    <!-- Tabs Navigation -->
    <div class="tabs">
      <button class="tablinks active" onclick="openTab(event, 'square')">Square</button>
      <button class="tablinks" onclick="openTab(event, 'rectangle')">Rectangle</button>
      <button class="tablinks" onclick="openTab(event, 'triangle')">Triangle</button>
      <button class="tablinks" onclick="openTab(event, 'circle')">Circle</button>
      <button class="tablinks" onclick="openTab(event, 'trapezoid')">Trapezoid</button>
      <button class="tablinks" onclick="openTab(event, 'rhombus')">Rhombus</button>
      <button class="tablinks" onclick="openTab(event, 'parallelogram')">Parallelogram</button>
      <button class="tablinks" onclick="openTab(event, 'regularPolygon')">Regular Polygon</button>
    </div>
    
    <!-- SQUARE -->
    <div id="square" class="tabcontent active">
      <h2>Square</h2>
      <section>
        <p>A square is a quadrilateral with four equal sides and four right angles.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = side²</li>
          <li>Perimeter = 4 × side</li>
        </ul>
      </section>
      <div class="calc">
        <label for="squareSide">Side length:</label>
        <input type="number" id="squareSide" min="0" step="any">
        <button class="btn" onclick="calcSquare()">Calculate</button>
      </div>
      <div id="squareResult" class="result"></div>
      <canvas id="squareCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- RECTANGLE -->
    <div id="rectangle" class="tabcontent">
      <h2>Rectangle</h2>
      <section>
        <p>A rectangle is a quadrilateral with opposite sides equal and all angles 90°.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = length × width</li>
          <li>Perimeter = 2 × (length + width)</li>
        </ul>
      </section>
      <div class="calc">
        <label for="rectLength">Length:</label>
        <input type="number" id="rectLength" min="0" step="any">
        <br><br>
        <label for="rectWidth">Width:</label>
        <input type="number" id="rectWidth" min="0" step="any">
        <button class="btn" onclick="calcRectangle()">Calculate</button>
      </div>
      <div id="rectangleResult" class="result"></div>
      <canvas id="rectangleCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- TRIANGLE -->
    <div id="triangle" class="tabcontent">
      <h2>Triangle</h2>
      <section>
        <p>A triangle is a three‑sided polygon. Using Heron’s formula, you can compute the area for a triangle when all three side lengths are known.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Perimeter = a + b + c</li>
          <li>Semi‑perimeter, s = (a + b + c) / 2</li>
          <li>Area = √(s × (s − a) × (s − b) × (s − c))</li>
        </ul>
      </section>
      <div class="calc">
        <label for="triA">Side a:</label>
        <input type="number" id="triA" min="0" step="any">
        <br><br>
        <label for="triB">Side b:</label>
        <input type="number" id="triB" min="0" step="any">
        <br><br>
        <label for="triC">Side c:</label>
        <input type="number" id="triC" min="0" step="any">
        <button class="btn" onclick="calcTriangle()">Calculate</button>
      </div>
      <div id="triangleResult" class="result"></div>
      <canvas id="triangleCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- CIRCLE -->
    <div id="circle" class="tabcontent">
      <h2>Circle</h2>
      <section>
        <p>A circle is defined by its radius.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = π × r²</li>
          <li>Circumference = 2 × π × r</li>
        </ul>
      </section>
      <div class="calc">
        <label for="circleRadius">Radius:</label>
        <input type="number" id="circleRadius" min="0" step="any">
        <button class="btn" onclick="calcCircle()">Calculate</button>
      </div>
      <div id="circleResult" class="result"></div>
      <canvas id="circleCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- TRAPEZOID -->
    <div id="trapezoid" class="tabcontent">
      <h2>Trapezoid</h2>
      <section>
        <p>A trapezoid is a quadrilateral with at least one pair of parallel sides. For drawing purposes we assume an isosceles trapezoid.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = ((base1 + base2) × height) / 2</li>
          <li>Perimeter = base1 + base2 + side1 + side2</li>
        </ul>
      </section>
      <div class="calc">
        <label for="trapBase1">Base 1:</label>
        <input type="number" id="trapBase1" min="0" step="any">
        <br><br>
        <label for="trapBase2">Base 2:</label>
        <input type="number" id="trapBase2" min="0" step="any">
        <br><br>
        <label for="trapSide1">Side 1:</label>
        <input type="number" id="trapSide1" min="0" step="any">
        <br><br>
        <label for="trapSide2">Side 2:</label>
        <input type="number" id="trapSide2" min="0" step="any">
        <br><br>
        <label for="trapHeight">Height:</label>
        <input type="number" id="trapHeight" min="0" step="any">
        <button class="btn" onclick="calcTrapezoid()">Calculate</button>
      </div>
      <div id="trapezoidResult" class="result"></div>
      <canvas id="trapezoidCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- RHOMBUS -->
    <div id="rhombus" class="tabcontent">
      <h2>Rhombus</h2>
      <section>
        <p>A rhombus is a quadrilateral with four equal sides. Its area is calculated by half the product of its diagonals.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = (diagonal1 × diagonal2) / 2</li>
          <li>Side = √((diagonal1/2)² + (diagonal2/2)²)</li>
          <li>Perimeter = 4 × side</li>
        </ul>
      </section>
      <div class="calc">
        <label for="rhombusD1">Diagonal 1:</label>
        <input type="number" id="rhombusD1" min="0" step="any">
        <br><br>
        <label for="rhombusD2">Diagonal 2:</label>
        <input type="number" id="rhombusD2" min="0" step="any">
        <button class="btn" onclick="calcRhombus()">Calculate</button>
      </div>
      <div id="rhombusResult" class="result"></div>
      <canvas id="rhombusCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- PARALLELOGRAM -->
    <div id="parallelogram" class="tabcontent">
      <h2>Parallelogram</h2>
      <section>
        <p>A parallelogram is a quadrilateral with opposite sides parallel.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Area = base × height</li>
          <li>Perimeter = 2 × (base + side)</li>
        </ul>
      </section>
      <div class="calc">
        <label for="paraBase">Base:</label>
        <input type="number" id="paraBase" min="0" step="any">
        <br><br>
        <label for="paraSide">Side:</label>
        <input type="number" id="paraSide" min="0" step="any">
        <br><br>
        <label for="paraHeight">Height:</label>
        <input type="number" id="paraHeight" min="0" step="any">
        <button class="btn" onclick="calcParallelogram()">Calculate</button>
      </div>
      <div id="parallelogramResult" class="result"></div>
      <canvas id="parallelogramCanvas" width="300" height="300"></canvas>
    </div>
    
    <!-- REGULAR POLYGON -->
    <div id="regularPolygon" class="tabcontent">
      <h2>Regular Polygon</h2>
      <section>
        <p>A regular polygon has all sides and internal angles equal.</p>
        <p><strong>Formulas:</strong></p>
        <ul>
          <li>Perimeter = n × s</li>
          <li>Area = (n × s²) / (4 × tan(π/n))</li>
        </ul>
      </section>
      <div class="calc">
        <label for="polySides"># of sides (n):</label>
        <input type="number" id="polySides" min="3" step="1">
        <br><br>
        <label for="polySideLength">Side length (s):</label>
        <input type="number" id="polySideLength" min="0" step="any">
        <button class="btn" onclick="calcRegularPolygon()">Calculate</button>
      </div>
      <div id="regularPolygonResult" class="result"></div>
      <canvas id="regularPolygonCanvas" width="300" height="300"></canvas>
    </div>
  </div>
  
  <footer>
    Bocaletto Luca
  </footer>
  
  <script>
    "use strict";
    // TAB NAVIGATION FUNCTION
    function openTab(evt, tabName) {
      let tabcontents = document.getElementsByClassName("tabcontent");
      for (let i = 0; i < tabcontents.length; i++) {
        tabcontents[i].style.display = "none";
        tabcontents[i].classList.remove("active");
      }
      let tablinks = document.getElementsByClassName("tablinks");
      for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }
      document.getElementById(tabName).style.display = "block";
      document.getElementById(tabName).classList.add("active");
      evt.currentTarget.classList.add("active");
    }
    document.getElementById("defaultTab").click();

    /* --------- SQUARE --------- */
    function calcSquare() {
      const side = parseFloat(document.getElementById("squareSide").value);
      const result = document.getElementById("squareResult");
      if (isNaN(side) || side <= 0) {
        result.innerHTML = "<p>Please enter a valid positive number.</p>";
        return;
      }
      const area = side * side;
      const perim = 4 * side;
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawSquare(side);
    }
    function drawSquare(side) {
      const canvas = document.getElementById("squareCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Scale such that the square fits within a 250px square
      const scale = (side > 250) ? 250 / side : 1;
      const drawSize = side * scale;
      const x = (canvas.width - drawSize) / 2;
      const y = (canvas.height - drawSize) / 2;
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.strokeRect(x, y, drawSize, drawSize);
    }

    /* --------- RECTANGLE --------- */
    function calcRectangle() {
      const length = parseFloat(document.getElementById("rectLength").value);
      const width = parseFloat(document.getElementById("rectWidth").value);
      const result = document.getElementById("rectangleResult");
      if (isNaN(length) || length <= 0 || isNaN(width) || width <= 0) {
        result.innerHTML = "<p>Please enter valid positive numbers.</p>";
        return;
      }
      const area = length * width;
      const perim = 2 * (length + width);
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawRectangle(length, width);
    }
    function drawRectangle(length, width) {
      const canvas = document.getElementById("rectangleCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const maxDim = Math.max(length, width);
      const scale = (maxDim > 250) ? 250 / maxDim : 1;
      const drawLength = length * scale;
      const drawWidth = width * scale;
      const x = (canvas.width - drawLength) / 2;
      const y = (canvas.height - drawWidth) / 2;
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.strokeRect(x, y, drawLength, drawWidth);
    }

    /* --------- TRIANGLE --------- */
    function calcTriangle() {
      const a = parseFloat(document.getElementById("triA").value);
      const b = parseFloat(document.getElementById("triB").value);
      const c = parseFloat(document.getElementById("triC").value);
      const result = document.getElementById("triangleResult");
      if (isNaN(a) || a <= 0 || isNaN(b) || b <= 0 || isNaN(c) || c <= 0) {
        result.innerHTML = "<p>Please enter valid positive numbers for all sides.</p>";
        return;
      }
      if (a + b <= c || a + c <= b || b + c <= a) {
        result.innerHTML = "<p>The entered values do not form a valid triangle.</p>";
        return;
      }
      const perim = a + b + c;
      const s = perim / 2;
      const area = Math.sqrt(s * (s - a) * (s - b) * (s - c));
      result.innerHTML = `<p>Area: ${area.toFixed(2)} (Heron's formula)</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawTriangle(a, b, c);
    }
    function drawTriangle(a, b, c) {
      // Place vertex A at (0,0) and vertex B at (a,0). Compute vertex C using law of cosines.
      const canvas = document.getElementById("triangleCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const cosA = (a*a + b*b - c*c) / (2*a*b);
      const angle = Math.acos(cosA);
      const Cx = b * Math.cos(angle);
      const Cy = b * Math.sin(angle);
      // Determine bounds to scale and center drawing.
      const xs = [0, a, Cx];
      const ys = [0, 0, Cy];
      const minX = Math.min(...xs), maxX = Math.max(...xs);
      const minY = Math.min(...ys), maxY = Math.max(...ys);
      const drawWidth = maxX - minX;
      const drawHeight = maxY - minY;
      const scale = Math.min(250 / drawWidth, 250 / drawHeight);
      // Translate points
      const pts = [
        { x: (0 - minX) * scale, y: (0 - minY) * scale },
        { x: (a - minX) * scale, y: (0 - minY) * scale },
        { x: (Cx - minX) * scale, y: (Cy - minY) * scale }
      ];
      // Center the drawing on canvas.
      const offsetX = (canvas.width - (drawWidth * scale)) / 2;
      const offsetY = (canvas.height - (drawHeight * scale)) / 2;
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(pts[0].x + offsetX, pts[0].y + offsetY);
      ctx.lineTo(pts[1].x + offsetX, pts[1].y + offsetY);
      ctx.lineTo(pts[2].x + offsetX, pts[2].y + offsetY);
      ctx.closePath();
      ctx.stroke();
    }

    /* --------- CIRCLE --------- */
    function calcCircle() {
      const r = parseFloat(document.getElementById("circleRadius").value);
      const result = document.getElementById("circleResult");
      if (isNaN(r) || r <= 0) {
        result.innerHTML = "<p>Please enter a valid positive radius.</p>";
        return;
      }
      const area = Math.PI * r * r;
      const circ = 2 * Math.PI * r;
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Circumference: ${circ.toFixed(2)}</p>`;
      drawCircle(r);
    }
    function drawCircle(r) {
      const canvas = document.getElementById("circleCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      let scale = (r > 100) ? 100 / r : 1;
      const radius = r * scale;
      ctx.beginPath();
      ctx.arc(canvas.width/2, canvas.height/2, radius, 0, Math.PI*2);
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    /* --------- TRAPEZOID --------- */
    function calcTrapezoid() {
      const base1 = parseFloat(document.getElementById("trapBase1").value);
      const base2 = parseFloat(document.getElementById("trapBase2").value);
      const side1 = parseFloat(document.getElementById("trapSide1").value);
      const side2 = parseFloat(document.getElementById("trapSide2").value);
      const height = parseFloat(document.getElementById("trapHeight").value);
      const result = document.getElementById("trapezoidResult");
      if (isNaN(base1) || base1 <= 0 || isNaN(base2) || base2 <= 0 ||
          isNaN(side1) || side1 <= 0 || isNaN(side2) || side2 <= 0 ||
          isNaN(height) || height <= 0) {
        result.innerHTML = "<p>Please enter valid positive numbers for all fields.</p>";
        return;
      }
      const area = ((base1 + base2) * height) / 2;
      const perim = base1 + base2 + side1 + side2;
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawTrapezoid(base1, base2, height);
    }
    function drawTrapezoid(base1, base2, height) {
      const canvas = document.getElementById("trapezoidCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Assume an isosceles trapezoid for drawing.
      const offset = (base1 - base2) / 2;
      const pts = [
        { x: 0, y: height },
        { x: base1, y: height },
        { x: base1 - offset, y: 0 },
        { x: offset, y: 0 }
      ];
      // Scale to fit canvas
      const xs = pts.map(p => p.x), ys = pts.map(p => p.y);
      const minX = Math.min(...xs), maxX = Math.max(...xs);
      const minY = Math.min(...ys), maxY = Math.max(...ys);
      const scale = Math.min((canvas.width - 20) / (maxX - minX), (canvas.height - 20) / (maxY - minY));
      for (let p of pts) {
        p.x = (p.x - minX) * scale;
        p.y = (p.y - minY) * scale;
      }
      // Center the drawing
      const offsetX = (canvas.width - (maxX - minX) * scale) / 2;
      const offsetY = (canvas.height - (maxY - minY) * scale) / 2;
      ctx.beginPath();
      ctx.moveTo(pts[0].x + offsetX, pts[0].y + offsetY);
      for (let i = 1; i < pts.length; i++) {
        ctx.lineTo(pts[i].x + offsetX, pts[i].y + offsetY);
      }
      ctx.closePath();
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    /* --------- RHOMBUS --------- */
    function calcRhombus() {
      const d1 = parseFloat(document.getElementById("rhombusD1").value);
      const d2 = parseFloat(document.getElementById("rhombusD2").value);
      const result = document.getElementById("rhombusResult");
      if (isNaN(d1) || d1 <= 0 || isNaN(d2) || d2 <= 0) {
        result.innerHTML = "<p>Please enter valid positive values for both diagonals.</p>";
        return;
      }
      const area = (d1 * d2) / 2;
      const side = Math.sqrt(Math.pow(d1 / 2, 2) + Math.pow(d2 / 2, 2));
      const perim = 4 * side;
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawRhombus(d1, d2);
    }
    function drawRhombus(d1, d2) {
      const canvas = document.getElementById("rhombusCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Scale writer: ensure d1 and d2 fit the canvas:
      const scale = Math.min((canvas.width - 20) / d1, (canvas.height - 20) / d2);
      const dx = d1 * scale, dy = d2 * scale;
      const cx = canvas.width / 2, cy = canvas.height / 2;
      const pts = [
        { x: cx, y: cy - dy/2 },
        { x: cx + dx/2, y: cy },
        { x: cx, y: cy + dy/2 },
        { x: cx - dx/2, y: cy }
      ];
      ctx.beginPath();
      ctx.moveTo(pts[0].x, pts[0].y);
      pts.forEach(p => ctx.lineTo(p.x, p.y));
      ctx.closePath();
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.stroke();
    }
    
    /* --------- PARALLELOGRAM --------- */
    function calcParallelogram() {
      const base = parseFloat(document.getElementById("paraBase").value);
      const side = parseFloat(document.getElementById("paraSide").value);
      const height = parseFloat(document.getElementById("paraHeight").value);
      const result = document.getElementById("parallelogramResult");
      if (isNaN(base) || base <= 0 || isNaN(side) || side <= 0 || isNaN(height) || height <= 0) {
        result.innerHTML = "<p>Please enter valid positive numbers for all fields.</p>";
        return;
      }
      const area = base * height;
      const perim = 2 * (base + side);
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawParallelogram(base, side, height);
    }
    function drawParallelogram(base, side, height) {
      const canvas = document.getElementById("parallelogramCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Compute horizontal offset using Pythagoras: offset = sqrt(side^2 - height^2)
      const offset = Math.sqrt(Math.max(0, side*side - height*height));
      const pts = [
        { x: 0, y: height },
        { x: base, y: height },
        { x: base - offset, y: 0 },
        { x: -offset, y: 0 }
      ];
      const xs = pts.map(p => p.x), ys = pts.map(p => p.y);
      const minX = Math.min(...xs), maxX = Math.max(...xs);
      const minY = Math.min(...ys), maxY = Math.max(...ys);
      const scale = Math.min((canvas.width - 20) / (maxX - minX), (canvas.height - 20) / (maxY - minY));
      for (let p of pts) {
        p.x = (p.x - minX) * scale;
        p.y = (p.y - minY) * scale;
      }
      const offsetX = (canvas.width - (maxX - minX) * scale) / 2;
      const offsetY = (canvas.height - (maxY - minY) * scale) / 2;
      ctx.beginPath();
      ctx.moveTo(pts[0].x + offsetX, pts[0].y + offsetY);
      pts.slice(1).forEach(p => ctx.lineTo(p.x + offsetX, p.y + offsetY));
      ctx.closePath();
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.stroke();
    }
    
    /* --------- REGULAR POLYGON --------- */
    function calcRegularPolygon() {
      const n = parseInt(document.getElementById("polySides").value);
      const s = parseFloat(document.getElementById("polySideLength").value);
      const result = document.getElementById("regularPolygonResult");
      if (isNaN(n) || n < 3 || isNaN(s) || s <= 0) {
        result.innerHTML = "<p>Please enter a valid number of sides (≥3) and a positive side length.</p>";
        return;
      }
      const perim = n * s;
      const area = (n * s * s) / (4 * Math.tan(Math.PI / n));
      result.innerHTML = `<p>Area: ${area.toFixed(2)}</p><p>Perimeter: ${perim.toFixed(2)}</p>`;
      drawRegularPolygon(n, s);
    }
    function drawRegularPolygon(n, s) {
      const canvas = document.getElementById("regularPolygonCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // Compute circumscribed radius: R = s / (2*sin(pi/n))
      const R = s / (2 * Math.sin(Math.PI / n));
      // To fit drawing into canvas, scale so that 2R fits into 80% of canvas dimension.
      const maxDrawing = Math.min(canvas.width, canvas.height) * 0.8;
      const scale = (R * 2 > maxDrawing) ? maxDrawing / (2 * R) : 1;
      const scaledR = R * scale;
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      ctx.beginPath();
      for (let i = 0; i < n; i++) {
        const angle = (2 * Math.PI * i / n) - Math.PI / 2;
        const x = centerX + scaledR * Math.cos(angle);
        const y = centerY + scaledR * Math.sin(angle);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.strokeStyle = "#007BFF";
      ctx.lineWidth = 2;
      ctx.stroke();
    }
  </script>
</body>
</html>
